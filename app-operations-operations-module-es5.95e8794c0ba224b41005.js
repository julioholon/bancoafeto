function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{suOm:function(e,t,n){"use strict";n.r(t),n.d(t,"OperationsModule",(function(){return Pe}));var r=n("iInd"),a=n("ofEL"),i=n("XDzf"),o=n("Do6i"),c=n("x6mR"),s=n("PvCH"),l=n("SxV6"),u=n("8Y7J"),f=n("8UBS"),p=n("SVse"),d=n("HQV3"),b=n("CNMR");function h(e,t){if(1&e&&(u.Tb(0,"page-content",2),u.Tb(1,"alert",3),u.Tb(2,"div",4),u.Hc(3),u.Sb(),u.Sb(),u.Sb()),2&e){var n=u.dc();u.kc("heading",n.data.title)("mobileHeading",n.i18n.operation.mobileTitle.result),u.zb(1),u.kc("type",n.alertType),u.zb(2),u.Ic(n.data.notification)}}var g,m=((g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).operationsService=r,a.alertType="success",a}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this,t=this.route.snapshot;_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this.addSub(this.operationsService.runCustomOperationCallback({id:t.params.id,token:t.params.token,body:{method:"GET",parameters:t.queryParams}}).pipe(Object(l.a)()).subscribe((function(t){t.notificationLevel===i.K.WARNING?e.alertType="warning":t.notificationLevel===i.K.ERROR&&(e.alertType="danger"),e.data=t})))}},{key:"resolveMenu",value:function(){return this.login.user?s.b.DASHBOARD:s.b.HOME}}]),n}(c.a)).\u0275fac=function(e){return new(e||g)(u.Nb(u.r),u.Nb(o.u))},g.\u0275cmp=u.Hb({type:g,selectors:[["operation-callback"]],features:[u.wb],decls:3,vars:4,consts:[[3,"ready"],["last","",3,"heading","mobileHeading",4,"ngIf"],["last","",3,"heading","mobileHeading"],[3,"type"],[1,"break-nl"]],template:function(e,t){1&e&&(u.Tb(0,"page-layout",0),u.ec(1,"async"),u.Fc(2,h,4,4,"page-content",1),u.Sb()),2&e&&(u.kc("ready",u.fc(1,2,t.data$)),u.zb(2),u.kc("ngIf",t.data))},directives:[f.a,p.t,d.a,b.a],pipes:[p.b],styles:["[_nghost-%COMP%]     .alert{margin:0}"],changeDetection:0}),g),v=function(e){return e.User="user",e.Ad="ad",e.Record="record",e.Transfer="transfer",e.Standalone="standalone",e}({}),y=n("J6cT"),k=n("OoS4"),S=n("mwYl"),T=n("aLb1"),O=n("WI1B"),F=n("tAww"),I=n("rCAV"),w=n("ObUu"),R=n("Ky6R"),_=n("2Vo4"),H=n("vkgz"),C=n("UXR7"),P=n("2KYv"),A=n("n1JJ"),z=n("DAJ4"),x=n("wwxf"),D=n("JFlR"),N=n("s7LF"),$=n("Y+zs"),E=n("bBjs"),U=n("ZJXG"),L=n("HZ9B"),M=n("cyUc");function j(e,t){1&e&&u.Pb(0)}function q(e,t){1&e&&u.Pb(0)}function J(e,t){if(1&e){var n=u.Ub();u.Tb(0,"actions",11),u.Tb(1,"button",12),u.bc("click",(function(){return u.wc(n),u.dc(3).run()})),u.ec(2,"async"),u.Hc(3),u.Sb(),u.Sb()}if(2&e){var r=u.dc(3);u.zb(1),u.kc("disabled",u.fc(2,2,r.requesting$)),u.zb(2),u.Jc(" ",r.data.customSubmitLabel||r.i18n.general.submit," ")}}function G(e,t){if(1&e&&u.Ob(0,"label-value",17),2&e){var n=t.$implicit,r=u.dc().$implicit;u.kc("label",n.header)("value",r[n.property])}}function B(e,t){if(1&e&&(u.Tb(0,"mobile-result"),u.Fc(1,G,1,2,"label-value",16),u.ec(2,"async"),u.Sb()),2&e){var n,r=u.dc(4),a=null==(n=u.fc(2,1,r.result$))?null:n.columns;u.zb(1),u.kc("ngForOf",a)}}var V=function(e,t){return{textAlign:e,width:t}};function K(e,t){if(1&e&&(u.Tb(0,"th",21),u.Hc(1),u.Sb()),2&e){var n=t.$implicit;u.kc("ngStyle",u.oc(2,V,n.align,n.width)),u.zb(1),u.Jc(" ",n.header," ")}}var X=function(e){return{textAlign:e}};function Y(e,t){if(1&e&&(u.Ob(0,"td",24),u.ec(1,"trust")),2&e){var n=t.$implicit,r=u.dc().$implicit;u.kc("ngStyle",u.nc(4,X,n.align))("innerHTML",u.fc(1,2,r[n.property]),u.xc)}}function Q(e,t){if(1&e){var n=u.Ub();u.Tb(0,"tr",22),u.bc("click",(function(){u.wc(n);var e=t.$implicit;return u.dc(5).rowClick(e)})),u.Fc(1,Y,2,6,"td",23),u.ec(2,"async"),u.Sb()}if(2&e){var r,a=u.dc(5),i=null==(r=u.fc(2,1,a.result$))?null:r.columns;u.zb(1),u.kc("ngForOf",i)}}var W=function(e){return{"cursor-pointer":e}};function Z(e,t){if(1&e&&(u.Tb(0,"table",18),u.Tb(1,"thead"),u.Fc(2,K,2,5,"th",19),u.ec(3,"async"),u.Sb(),u.Tb(4,"tbody"),u.Fc(5,Q,3,3,"tr",20),u.ec(6,"async"),u.Sb(),u.Sb()),2&e){var n,r,a=u.dc(4),i=null==(n=u.fc(3,3,a.result$))?null:n.columns,o=null==(r=u.fc(6,5,a.result$))?null:r.rows;u.kc("ngClass",u.nc(7,W,a.data.rowAction)),u.zb(2),u.kc("ngForOf",i),u.zb(3),u.kc("ngForOf",o)}}function ee(e,t){if(1&e){var n=u.Ub();u.Tb(0,"results-layout",13),u.bc("update",(function(e){return u.wc(n),u.dc(3).updatePage(e)})),u.Fc(1,B,3,3,"mobile-result",14),u.Fc(2,Z,7,9,"table",15),u.Sb()}if(2&e){var r=u.dc(3);u.kc("results",r.pageResults)("onClick",r.onClick)}}function te(e,t){if(1&e&&(u.Rb(0),u.Tb(1,"page-content",7),u.ec(2,"async"),u.Fc(3,q,1,0,"ng-container",8),u.Fc(4,J,4,4,"actions",9),u.Sb(),u.Fc(5,ee,3,2,"results-layout",10),u.ec(6,"async"),u.Qb()),2&e){var n=u.dc(2),r=u.uc(8);u.zb(1),u.kc("mode",n.hasSearchFields?"filters":"emptyFilters")("heading",n.data.name)("mobileHeading",n.data.label)("headingActions",u.fc(2,7,n.headingActions$)),u.zb(2),u.kc("ngTemplateOutlet",r),u.zb(1),u.kc("ngIf",!n.runDirectly),u.zb(1),u.kc("ngIf",u.fc(6,9,n.pageResults$))}}function ne(e,t){if(1&e&&u.Fc(0,te,7,11,"ng-container",6),2&e){var n=u.dc(),r=u.uc(6);u.kc("ngIf",n.isSearch)("ngIfElse",r)}}function re(e,t){if(1&e&&(u.Tb(0,"alert",31),u.Ob(1,"div",32),u.ec(2,"trust"),u.Sb()),2&e){var n=u.dc(3);u.zb(1),u.kc("innerHTML",u.fc(2,1,n.data.informationText),u.xc)}}function ae(e,t){1&e&&u.Pb(0)}function ie(e,t){if(1&e){var n=u.Ub();u.Tb(0,"actions"),u.Tb(1,"button",12),u.bc("click",(function(){return u.wc(n),u.dc(3).run()})),u.ec(2,"async"),u.Hc(3),u.Sb(),u.Sb()}if(2&e){var r=u.dc(3);u.zb(1),u.kc("disabled",u.fc(2,2,r.requesting$)),u.zb(2),u.Jc(" ",r.data.customSubmitLabel||r.i18n.general.submit," ")}}function oe(e,t){if(1&e&&(u.Tb(0,"div",33),u.Hc(1),u.Sb()),2&e){var n=u.dc(3);u.zb(1),u.Jc(" ",n.i18n.operation.redirecting," ")}}function ce(e,t){if(1&e&&(u.Tb(0,"page-content",27),u.Fc(1,re,3,3,"alert",28),u.Fc(2,ae,1,0,"ng-container",8),u.Fc(3,ie,4,4,"actions",29),u.ec(4,"async"),u.Fc(5,oe,2,1,"div",30),u.ec(6,"async"),u.Sb()),2&e){var n=u.dc(2),r=u.uc(8);u.kc("heading",n.data.name)("mobileHeading",n.data.label),u.zb(1),u.kc("ngIf",n.data.informationText),u.zb(1),u.kc("ngTemplateOutlet",r),u.zb(1),u.kc("ngIf",!1===u.fc(4,6,n.redirecting$)),u.zb(2),u.kc("ngIf",u.fc(6,8,n.redirecting$))}}function se(e,t){1&e&&u.Pb(0)}function le(e,t){if(1&e&&(u.Rb(0),u.Fc(1,se,1,0,"ng-container",8),u.Qb()),2&e){u.dc(3);var n=u.uc(10);u.zb(1),u.kc("ngTemplateOutlet",n)}}function ue(e,t){if(1&e&&(u.Ob(0,"div",32),u.ec(1,"trust")),2&e){var n=u.dc(3);u.kc("innerHTML",u.fc(1,1,n.result.content),u.xc)}}function fe(e,t){if(1&e&&(u.Tb(0,"div",37),u.Hc(1),u.Sb()),2&e){var n=u.dc(3);u.zb(1),u.Jc(" ",n.result.content,"")}}function pe(e,t){if(1&e){var n=u.Ub();u.Tb(0,"actions"),u.Tb(1,"button",12),u.bc("click",(function(){return u.wc(n),u.dc(3).reload()})),u.ec(2,"async"),u.Hc(3),u.Sb(),u.Sb()}if(2&e){var r=u.dc(3);u.zb(1),u.kc("disabled",u.fc(2,2,r.requesting$)),u.zb(2),u.Jc(" ",r.i18n.general.close," ")}}function de(e,t){if(1&e&&(u.Tb(0,"page-content",34),u.ec(1,"async"),u.Fc(2,le,2,1,"ng-container",29),u.Fc(3,ue,2,3,"div",35),u.Fc(4,fe,2,1,"div",36),u.Fc(5,pe,4,4,"actions",29),u.Sb()),2&e){var n=u.dc(2);u.kc("heading",n.result.title||n.data.name)("mobileHeading",n.i18n.operation.mobileTitle.result)("headingActions",u.fc(1,7,n.headingActions$)),u.zb(2),u.kc("ngIf",n.runDirectly),u.zb(1),u.kc("ngIf","richText"===n.result.resultType),u.zb(1),u.kc("ngIf","plainText"===n.result.resultType),u.zb(1),u.kc("ngIf",!n.runDirectly)}}function be(e,t){if(1&e&&(u.Fc(0,ce,7,10,"page-content",25),u.ec(1,"async"),u.Fc(2,de,6,9,"page-content",26),u.ec(3,"async")),2&e){var n=u.dc();u.kc("ngIf",n.data&&!n.runDirectly&&null===u.fc(1,2,n.result$)),u.zb(2),u.kc("ngIf",n.isContent&&u.fc(3,4,n.result$))}}function he(e,t){1&e&&u.Pb(0)}function ge(e,t){if(1&e&&(u.Rb(0),u.Ob(1,"custom-field-input",41),u.Qb()),2&e){var n=t.$implicit,r=t.first,a=u.dc(2);u.zb(1),u.kc("field",n)("formControlName",n.internalName)("focused",!a.isSearch&&r)("labelPosition",a.isSearch?"left":"auto")}}function me(e,t){if(1&e&&u.Ob(0,"file-field",42),2&e){var n=u.dc(2);u.kc("label",n.i18n.operation.fileUpload)("formControl",n.fileControl)}}function ve(e,t){if(1&e&&(u.Tb(0,"form",38),u.Fc(1,he,1,0,"ng-container",8),u.Fc(2,ge,2,4,"ng-container",39),u.Fc(3,me,1,2,"file-field",40),u.Sb()),2&e){var n=u.dc(),r=u.uc(10);u.kc("formGroup",n.form),u.zb(1),u.kc("ngTemplateOutlet",r),u.zb(1),u.kc("ngForOf",n.formFields),u.zb(1),u.kc("ngIf",n.data.hasFileUpload)}}function ye(e,t){if(1&e&&(u.Tb(0,"label-value",45),u.Tb(1,"chip",46),u.Hc(2),u.Sb(),u.Sb()),2&e){var n=u.dc(2);u.kc("label",n.i18n.general.user),u.zb(1),u.kc("image",n.data.user.image)("closeable",!1),u.zb(1),u.Jc(" ",n.data.user.display," ")}}function ke(e,t){if(1&e&&(u.Tb(0,"label-value",45),u.Tb(1,"chip",46),u.Hc(2),u.Sb(),u.Sb()),2&e){var n=u.dc(2);u.kc("label",n.i18n.operation.ad),u.zb(1),u.kc("image",n.data.ad.image)("closeable",!0),u.zb(1),u.Jc(" ",n.data.ad.name," ")}}function Se(e,t){if(1&e&&(u.Tb(0,"label-value",47),u.Tb(1,"chip"),u.Hc(2),u.Sb(),u.Sb()),2&e){var n=u.dc(2);u.kc("label",n.i18n.operation.transfer),u.zb(2),u.Jc(" ",n.data.transfer.display," ")}}function Te(e,t){1&e&&u.Ob(0,"hr")}function Oe(e,t){if(1&e&&(u.Fc(0,ye,3,4,"label-value",43),u.Fc(1,ke,3,4,"label-value",43),u.Fc(2,Se,3,2,"label-value",44),u.Fc(3,Te,1,0,"hr",29)),2&e){var n=u.dc();u.kc("ngIf",n.data.user&&n.data.user.id!==n.login.user.id),u.zb(1),u.kc("ngIf",n.data.ad),u.zb(1),u.kc("ngIf",n.data.transfer),u.zb(1),u.kc("ngIf",n.data.user&&n.data.user.id!==n.login.user.id||n.data.ad||n.data.transfer)}}var Fe,Ie,we,Re=((Fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,i,o,c){var s;return _classCallCheck(this,n),(s=t.call(this,e)).fieldsHelper=r,s.operationHelper=a,s.recordHelper=i,s.nextRequestState=o,s.operationsService=c,s.result$=new _.a(null),s.pageResults$=new _.a(null),s.redirecting$=new _.a(!1),s}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this);var t=this.route.snapshot;if(this.runScope=t.data.runScope,this.userParam=t.params.user,!this.runScope)throw new Error("No runScope on ".concat(t.url));var r,a={operation:t.params.operation};switch(this.createDeviceConfirmation=function(){return{type:i.s.RUN_OPERATION,operation:e.data.id}},this.runScope){case v.User:this.scopeId=a.owner=t.params.user||this.login.user.id,r=this.operationsService.getOwnerOperationDataForRun(a);break;case v.Ad:this.scopeId=a.ad=t.params.ad,r=this.operationsService.getAdOperationDataForRun(a);break;case v.Record:this.scopeId=a.id=t.params.record,r=this.operationsService.getRecordOperationDataForRun(a);break;case v.Transfer:this.scopeId=a.key=t.params.transfer,r=this.operationsService.getTransferOperationDataForRun(a);break;default:r=this.operationsService.getOperationDataForRun(a)}this.nextRequestState.queryParams=t.queryParams,this.leaveNotification=this.nextRequestState.leaveNotification,this.addSub(r.subscribe((function(t){e.data=t})))}},{key:"onDataInitialized",value:function(e){var t=this;this.runScope===v.User&&(this.self=this.authHelper.isSelf(e.user)),this.isSearch=e.resultType===i.M.RESULT_PAGE,this.isContent=[i.M.PLAIN_TEXT,i.M.RICH_TEXT].includes(e.resultType);var n=e.formParameters||[];if(this.form=this.fieldsHelper.customValuesFormGroup(n),this.fileControl=this.formBuilder.control(null),this.runDirectly=this.operationHelper.canRunDirectly(e,!1),this.hasSearchFields=n.length>0||e.hasFileUpload,n.length>0){var r=this.route.snapshot.queryParamMap;this.formFields=[];var a,o=_createForOfIteratorHelper(n);try{for(o.s();!(a=o.n()).done;){var c=a.value,s=r.get(c.internalName);if(Object(w.h)(s))this.formFields.push(c);else{var l={};l[c.internalName]=s,this.form.patchValue(l,{emitEvent:!1})}}}catch(u){o.e(u)}finally{o.f()}}this.isSearch&&(this.stateManager.manage(this.form),this.pageData={page:0,pageSize:this.layout.searchPageSize}),this.operationHelper.register(e.rowOperation),this.runDirectly&&(this.nextRequestState.leaveNotification=this.leaveNotification,this.isSearch&&this.addSub(this.form.valueChanges.subscribe((function(){return t.run(e)}))),this.run(e))}},{key:"run",value:function(e){var t=this;(e||(e=this.data))&&(Object(w.F)(this.form),this.form.valid&&(!Object(w.h)(e.confirmationText)||e.confirmationPasswordInput?this.notification.confirm({title:e.name,message:e.confirmationText,createDeviceConfirmation:this.createDeviceConfirmation,passwordInput:e.confirmationPasswordInput,callback:function(n){return t.doRun(e,n.confirmationPassword)}}):this.doRun(e,null)))}},{key:"updatePage",value:function(e){this.pageData=e,this.run()}},{key:"doRun",value:function(e,t,n){var r=this,a=this.operationHelper.runRequest(e,{scopeId:this.scopeId,confirmationPassword:t,formParameters:this.form.value,pageData:this.pageData,upload:this.fileControl.value,exportFormat:n});this.nextRequestState.queryParams=this.route.snapshot.queryParams,this.addSub(a.pipe(Object(l.a)(),Object(H.a)((function(e){return e}),(function(){return r.redirecting$.next(!1)}))).subscribe((function(e){return r.afterRun(e)}))),this.redirecting$.next(e.resultType===i.M.EXTERNAL_REDIRECT)}},{key:"afterRun",value:function(e){var t=this;if(!this.operationHelper.handleResult(e)){var n=e.body;this.result$.next(n);var r=[];this.data.allowPrint&&this.isContent?r.push(this.exportHelper.printAction()):Object(w.h)(this.data.exportFormats)||this.exportHelper.headingActions(this.data.exportFormats,(function(e){return t.operationHelper.runRequest(t.data,{scopeId:t.scopeId,formParameters:t.form.value,pageData:t.pageData,upload:t.fileControl.value,exportFormat:e})})).forEach((function(e){return r.push(e)}));var a,i=_createForOfIteratorHelper(n.actions||[]);try{var o=function(){var e=a.value,n=e.action;n&&(t.operationHelper.register(n),r.push(new F.c(t.operationHelper.icon(n),n.label,(function(){t.operationHelper.run(n,null,e.parameters)}))))};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}if(1===r.length&&(r[0].maybeRoot=!0),this.headingActions=r,this.isSearch){var c=new R.a(n.rows);R.a.fillHeaders(c,e),this.pageResults$.next(c)}}}},{key:"rowClick",value:function(e){var t=this.data,n=t.rowAction,r={};switch((t.rowParameters||[]).forEach((function(t){return r[t]=e[t]})),n){case i.N.OPERATION:this.router.navigate(["operations","action",I.a.internalNameOrId(t.rowOperation)],{queryParams:r});break;case i.N.URL:for(var a=t.rowUrl,o=0,c=Object.keys(r);o<c.length;o++){var s=c[o],l=r[s];l&&(a+=a.includes("?")?"&":"?",a+=encodeURIComponent(s)+"="+encodeURIComponent(l))}window.open(a);break;case i.N.LOCATION:var u=I.a.urlForLocation(t.rowLocation,r.id);u&&this.router.navigateByUrl(u)}}},{key:"resolveMenu",value:function(e){if(e.scope===i.O.SYSTEM||e.scope===i.O.USER&&this.self)return new s.a(I.a.menuForOwnerOperation(e),{operation:e});switch(this.runScope){case v.User:return this.authHelper.userMenu(e.user,s.b.MY_PROFILE);case v.Ad:return this.authHelper.userMenu(e.user,s.b.SEARCH_ADS);case v.Record:return this.authHelper.isSelf(e.user)?this.recordHelper.menuForRecordType(e.user,e.recordType):this.authHelper.userMenu(e.user,s.b.SEARCH_USERS);case v.Transfer:return this.authHelper.transferMenu(e.transfer);case v.Standalone:return null}}},{key:"result",get:function(){return this.result$.value}},{key:"pageResults",get:function(){return this.pageResults$.value}},{key:"onClick",get:function(){var e=this;return function(t){return e.rowClick(t)}}}]),n}(c.a)).\u0275fac=function(e){return new(e||Fe)(u.Nb(u.r),u.Nb(k.a),u.Nb(T.a),u.Nb(O.a),u.Nb(S.a),u.Nb(y.a))},Fe.\u0275cmp=u.Hb({type:Fe,selectors:[["run-operation"]],features:[u.wb],decls:11,vars:5,consts:[[3,"ready"],[4,"ngIf","ngIfThen"],["content",""],["regular",""],["theForm",""],["operationContext",""],[4,"ngIf","ngIfElse"],[3,"mode","heading","mobileHeading","headingActions"],[4,"ngTemplateOutlet"],["class","mb-3 mt-0",4,"ngIf"],["resultType","list",3,"results","onClick","update",4,"ngIf"],[1,"mb-3","mt-0"],[1,"btn","btn-primary",3,"disabled","click"],["resultType","list",3,"results","onClick","update"],[4,"mobileResult"],["class","table table-hover",3,"ngClass",4,"resultTable"],["labelPosition","sideForced","valueFormat","html",3,"label","value",4,"ngFor","ngForOf"],["labelPosition","sideForced","valueFormat","html",3,"label","value"],[1,"table","table-hover",3,"ngClass"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"click"],[3,"ngStyle","innerHTML",4,"ngFor","ngForOf"],[3,"ngStyle","innerHTML"],["last","",3,"heading","mobileHeading",4,"ngIf"],["last","",3,"heading","mobileHeading","headingActions",4,"ngIf"],["last","",3,"heading","mobileHeading"],["type","info",4,"ngIf"],[4,"ngIf"],["class","mt-3 text-right",4,"ngIf"],["type","info"],[3,"innerHTML"],[1,"mt-3","text-right"],["last","",3,"heading","mobileHeading","headingActions"],[3,"innerHTML",4,"ngIf"],["class","break-nl",4,"ngIf"],[1,"break-nl"],[3,"formGroup"],[4,"ngFor","ngForOf"],[3,"label","formControl",4,"ngIf"],[3,"field","formControlName","focused","labelPosition"],[3,"label","formControl"],["kind","field",3,"label",4,"ngIf"],["kind","fieldView",3,"label",4,"ngIf"],["kind","field",3,"label"],[3,"image","closeable"],["kind","fieldView",3,"label"]],template:function(e,t){if(1&e&&(u.Tb(0,"page-layout",0),u.ec(1,"async"),u.Fc(2,j,1,0,"ng-container",1),u.Sb(),u.Fc(3,ne,1,2,"ng-template",null,2,u.Gc),u.Fc(5,be,4,6,"ng-template",null,3,u.Gc),u.Fc(7,ve,4,4,"ng-template",null,4,u.Gc),u.Fc(9,Oe,4,4,"ng-template",null,5,u.Gc)),2&e){var n=u.uc(4);u.kc("ready",u.fc(1,3,t.data$)),u.zb(2),u.kc("ngIf",t.data)("ngIfThen",n)}},directives:[f.a,p.t,d.a,p.A,C.a,P.a,A.a,z.a,x.a,p.s,D.a,p.q,p.w,b.a,N.I,N.w,N.n,$.a,N.v,N.l,E.a,U.a,N.k,L.a],pipes:[p.b,M.a],encapsulation:2,changeDetection:0}),Fe),_e=[{path:"",children:[{path:"system/:operation",component:Re,canActivate:[a.a],data:{runScope:v.Standalone}},{path:"self/:operation",component:Re,canActivate:[a.a],data:{runScope:v.User}},{path:"action/:operation",component:Re,canActivate:[a.a],data:{runScope:v.Standalone}},{path:"user/:user/:operation",component:Re,canActivate:[a.a],data:{runScope:v.User}},{path:"marketplace/:ad/:operation",component:Re,canActivate:[a.a],data:{runScope:v.Ad}},{path:"record/:record/:operation",component:Re,canActivate:[a.a],data:{runScope:v.Record}},{path:"transfer/:transfer/:operation",component:Re,canActivate:[a.a],data:{runScope:v.Transfer}},{path:"callback/:id/:token",component:m}]}],He=((Ie=function e(){_classCallCheck(this,e)}).\u0275mod=u.Lb({type:Ie}),Ie.\u0275inj=u.Kb({factory:function(e){return new(e||Ie)},imports:[[r.i.forChild(_e)],r.i]}),Ie),Ce=n("PCNd"),Pe=((we=function e(){_classCallCheck(this,e)}).\u0275mod=u.Lb({type:we}),we.\u0275inj=u.Kb({factory:function(e){return new(e||we)},imports:[[He,Ce.a]]}),we)}}]);